<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escape Room - Desaf√≠os Bebras 2025</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4a6fa5;
            --secondary: #ff6b6b;
            --accent: #4ecdc4;
            --dark: #2b2d42;
            --light: #f8f9fa;
            --neutral: #8d99ae;
            --heading-font: "Orbitron", sans-serif;
            --body-font: "Roboto", sans-serif;
            --card-radius: 8px;
            --transition-speed: 0.3s;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), 
                        url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%234a6fa5' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
            color: var(--light);
            font-family: var(--body-font);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: var(--card-radius);
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        h1 {
            font-family: var(--heading-font);
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, var(--accent), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.8;
        }

        .timer-section {
            background: rgba(0, 0, 0, 0.5);
            border-radius: var(--card-radius);
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.15);
            font-family: var(--heading-font);
            font-size: 1.5rem;
        }

        .timer-warning {
            color: #ff6b6b;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .tabs {
            display: flex;
            margin-bottom: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: var(--card-radius);
            overflow: hidden;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            font-family: var(--heading-font);
            cursor: pointer;
            transition: all var(--transition-speed);
        }

        .tab.active {
            background: rgba(78, 205, 196, 0.3);
        }

        .tab:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .challenges-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .challenge-card {
            background: rgba(0, 0, 0, 0.5);
            border-radius: var(--card-radius);
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: transform var(--transition-speed);
        }

        .challenge-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent);
        }

        .challenge-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .challenge-number {
            font-family: var(--heading-font);
            font-size: 1.8rem;
            background: linear-gradient(to right, var(--accent), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .challenge-title {
            font-family: var(--heading-font);
            font-size: 1.4rem;
            color: var(--accent);
        }

        .challenge-image {
            width: 100%;
            border-radius: var(--card-radius);
            margin: 15px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .challenge-description {
            margin-bottom: 15px;
            font-size: 0.95rem;
        }

        .skills-selection {
            margin: 15px 0;
        }

        .skills-selection h4 {
            margin-bottom: 10px;
            color: var(--accent);
            font-family: var(--heading-font);
        }

        .skill-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .skill-option {
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--card-radius);
            cursor: pointer;
            transition: all var(--transition-speed);
            text-align: center;
        }

        .skill-option:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .skill-option.selected {
            background: rgba(78, 205, 196, 0.3);
            border-color: var(--accent);
        }

        .answer-section {
            margin: 15px 0;
        }

        .answer-section h4 {
            margin-bottom: 10px;
            color: var(--accent);
            font-family: var(--heading-font);
        }

        .answer-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .answer-option {
            padding: 12px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--card-radius);
            cursor: pointer;
            transition: all var(--transition-speed);
        }

        .answer-option:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .answer-option.selected {
            background: rgba(76, 175, 80, 0.3);
            border-color: rgba(76, 175, 80, 0.5);
        }

        .feedback {
            padding: 10px;
            border-radius: var(--card-radius);
            margin-top: 10px;
            display: none;
            text-align: center;
            font-weight: bold;
        }

        .feedback.correct {
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid rgba(76, 175, 80, 0.4);
            color: #a5d6a7;
        }

        .feedback.incorrect {
            background: rgba(244, 67, 54, 0.2);
            border: 1px solid rgba(244, 67, 54, 0.4);
            color: #ef9a9a;
        }

        .exit-ticket {
            background: rgba(138, 43, 226, 0.2);
            border: 1px solid rgba(138, 43, 226, 0.4);
            border-radius: var(--card-radius);
            padding: 15px;
            margin-top: 15px;
            display: none;
            text-align: center;
            font-family: var(--heading-font);
        }

        .progress-section {
            background: rgba(0, 0, 0, 0.5);
            border-radius: var(--card-radius);
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        .progress-bar {
            height: 20px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: rgba(78, 205, 196, 0.7);
            border-radius: 10px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .progress-text {
            text-align: center;
            font-family: var(--heading-font);
            margin-top: 10px;
        }

        .evaluation-section {
            background: rgba(0, 0, 0, 0.5);
            border-radius: var(--card-radius);
            padding: 25px;
            margin-top: 30px;
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        .evaluation-section h2 {
            font-family: var(--heading-font);
            color: var(--accent);
            margin-bottom: 20px;
            text-align: center;
        }

        .evaluation-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 10px;
            border-radius: var(--card-radius);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            font-family: var(--body-font);
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .submit-btn {
            grid-column: 1 / -1;
            padding: 12px 24px;
            background: rgba(78, 205, 196, 0.3);
            border: 1px solid var(--accent);
            border-radius: var(--card-radius);
            color: white;
            font-family: var(--heading-font);
            cursor: pointer;
            transition: all var(--transition-speed);
            font-size: 1.1rem;
        }

        .submit-btn:hover {
            background: rgba(78, 205, 196, 0.5);
            transform: translateY(-3px);
        }

        .medals-section {
            background: rgba(0, 0, 0, 0.5);
            border-radius: var(--card-radius);
            padding: 25px;
            margin-top: 30px;
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        .medals-container {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .medal {
            text-align: center;
            margin: 10px;
            opacity: 0.3;
            transition: all var(--transition-speed);
        }

        .medal.earned {
            opacity: 1;
            transform: scale(1.1);
        }

        .medal i {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .medal.bronze i {
            color: #cd7f32;
        }

        .medal.silver i {
            color: #c0c0c0;
        }

        .medal.gold i {
            color: #ffd700;
        }

        .medal.platinum i {
            color: #e5e4e2;
        }

        .performance-report {
            background: rgba(0, 0, 0, 0.5);
            border-radius: var(--card-radius);
            padding: 25px;
            margin-top: 30px;
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        .report-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .report-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--card-radius);
            padding: 15px;
            text-align: center;
        }

        .report-card h4 {
            color: var(--accent);
            margin-bottom: 10px;
            font-family: var(--heading-font);
        }

        .tickets-section {
            background: rgba(0, 0, 0, 0.5);
            border-radius: var(--card-radius);
            padding: 25px;
            margin-top: 30px;
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        .tickets-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .ticket-card {
            background: rgba(138, 43, 226, 0.2);
            border: 1px solid rgba(138, 43, 226, 0.4);
            border-radius: var(--card-radius);
            padding: 15px;
            text-align: center;
            font-family: var(--heading-font);
        }

        .ticket-card h4 {
            color: var(--accent);
            margin-bottom: 10px;
        }

        .rubric-section {
            background: rgba(0, 0, 0, 0.5);
            border-radius: var(--card-radius);
            padding: 25px;
            margin-top: 30px;
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        .rubric-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: rgba(255, 255, 255, 0.1);
        }

        .rubric-table th, .rubric-table td {
            padding: 12px;
            text-align: left;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .rubric-table th {
            background: rgba(78, 205, 196, 0.3);
            font-family: var(--heading-font);
        }

        .rubric-table tr:nth-child(even) {
            background: rgba(255, 255, 255, 0.05);
        }

        .criteria-level {
            font-weight: bold;
            color: var(--accent);
        }

        .visual-container {
            background: white;
            border-radius: var(--card-radius);
            padding: 15px;
            margin: 15px 0;
            color: var(--dark);
            text-align: center;
        }

        .visual-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 10px;
            margin: 10px 0;
        }

        .visual-item {
            background: #f0f0f0;
            border-radius: 5px;
            padding: 10px;
            text-align: center;
            font-weight: bold;
        }

        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: var(--card-radius);
            border: 1px solid rgba(255, 255, 255, 0.15);
            font-size: 0.9rem;
            opacity: 0.8;
        }

        @media (max-width: 768px) {
            .challenges-container {
                grid-template-columns: 1fr;
            }
            
            .skill-options, .answer-options {
                grid-template-columns: 1fr;
            }
            
            .evaluation-form {
                grid-template-columns: 1fr;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .rubric-table {
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-brain"></i> Escape Room - Desaf√≠os Bebras 2025</h1>
            <p class="subtitle">Liceo Cuna de Fabini - Sol√≠s de Mataojo - 8¬∞ EBI</p>
        </header>

        <div class="timer-section">
            <div id="timer">35:00</div>
            <div id="timer-message" style="display:none; margin-top:10px;" class="timer-warning">
                <i class="fas fa-exclamation-triangle"></i> ¬°Tiempo extra! Puedes continuar con los desaf√≠os extras
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" data-tab="main-challenges">Desaf√≠os Principales (35 min)</button>
            <button class="tab" data-tab="extra-challenges">Desaf√≠os Extras (+Puntos)</button>
            <button class="tab" data-tab="evaluation">Evaluaci√≥n</button>
            <button class="tab" data-tab="performance">Desempe√±o</button>
        </div>

        <div class="tab-content active" id="main-challenges">
            <div class="progress-section">
                <h3>Progreso Desaf√≠os Principales</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="progress-text" id="progress-text">0/14 desaf√≠os completados</div>
            </div>

            <div class="challenges-container" id="challenges-container">
                <!-- Los desaf√≠os principales se cargar√°n aqu√≠ -->
            </div>
        </div>

        <div class="tab-content" id="extra-challenges">
            <div class="progress-section">
                <h3>Desaf√≠os Extras - Puntos Adicionales</h3>
                <p>Completa estos desaf√≠os para ganar puntos extra despu√©s de terminar los principales</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="extra-progress-fill" style="width:0%"></div>
                </div>
                <div class="progress-text" id="extra-progress-text">0/10 desaf√≠os extras completados</div>
            </div>

            <div class="challenges-container" id="extra-challenges-container">
                <!-- Los desaf√≠os extras se cargar√°n aqu√≠ -->
            </div>
        </div>

        <div class="tab-content" id="evaluation">
            <div class="evaluation-section">
                <h2><i class="fas fa-clipboard-check"></i> Evaluaci√≥n de Conceptos</h2>
                <form class="evaluation-form" id="evaluation-form">
                    <div class="form-group">
                        <label for="student-name">Nombre del estudiante:</label>
                        <input type="text" id="student-name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="student-team">Equipo:</label>
                        <input type="text" id="student-team" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="student-grade">Grado:</label>
                        <select id="student-grade" required>
                            <option value="">Selecciona tu grado</option>
                            <option value="8">8¬∞ EBI</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="difficulty-rating">¬øQu√© tan desafiantes encontraste estos ejercicios?</label>
                        <select id="difficulty-rating" required>
                            <option value="">Selecciona una opci√≥n</option>
                            <option value="1">Muy f√°ciles</option>
                            <option value="2">F√°ciles</option>
                            <option value="3">Moderados</option>
                            <option value="4">Dif√≠ciles</option>
                            <option value="5">Muy dif√≠ciles</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="enjoyment-rating">¬øQu√© tan disfrutables fueron los desaf√≠os?</label>
                        <select id="enjoyment-rating" required>
                            <option value="">Selecciona una opci√≥n</option>
                            <option value="1">No me gustaron</option>
                            <option value="2">Poco disfrutables</option>
                            <option value="3">Neutral</option>
                            <option value="4">Disfrutables</option>
                            <option value="5">Muy disfrutables</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="skills-improved">¬øQu√© habilidades de pensamiento computacional crees que desarrollaste?</label>
                        <textarea id="skills-improved" placeholder="Describe las habilidades que desarrollaste..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="challenges-faced">¬øQu√© desaf√≠os encontraste m√°s dif√≠ciles y por qu√©?</label>
                        <textarea id="challenges-faced" placeholder="Describe los desaf√≠os que te resultaron m√°s dif√≠ciles..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="teacher-feedback">Comentarios para el profesor:</label>
                        <textarea id="teacher-feedback" placeholder="Comparte tus comentarios, sugerencias o dudas..."></textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn">Enviar Evaluaci√≥n</button>
                </form>
            </div>

            <div class="evaluation-section">
                <h2><i class="fas fa-user-check"></i> Autoevaluaci√≥n del Desempe√±o</h2>
                <form class="evaluation-form" id="self-evaluation-form">
                    <div class="form-group">
                        <label for="team-performance">¬øC√≥mo calificar√≠as el desempe√±o de tu equipo?</label>
                        <select id="team-performance" required>
                            <option value="">Selecciona una opci√≥n</option>
                            <option value="1">Excelente - Trabajamos muy bien juntos</option>
                            <option value="2">Bueno - Hubo buena colaboraci√≥n</option>
                            <option value="3">Regular - Podr√≠amos haber trabajado mejor</option>
                            <option value="4">Deficiente - Fue dif√≠cil trabajar en equipo</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="my-contribution">¬øCu√°l crees que fue tu principal contribuci√≥n al equipo?</label>
                        <textarea id="my-contribution" placeholder="Describe tu contribuci√≥n al trabajo en equipo..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="learned-content">¬øQu√© contenido aprendiste durante esta actividad?</label>
                        <textarea id="learned-content" placeholder="Describe lo que aprendiste..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="difficult-concepts">¬øQu√© conceptos te resultaron m√°s dif√≠ciles de entender?</label>
                        <textarea id="difficult-concepts" placeholder="Describe los conceptos que no entendiste completamente..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="improvement-areas">¬øEn qu√© √°reas crees que necesitas mejorar?</label>
                        <textarea id="improvement-areas" placeholder="Describe las √°reas donde necesitas mejorar..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="enjoyed-most">¬øQu√© fue lo que m√°s disfrutaste de esta actividad?</label>
                        <textarea id="enjoyed-most" placeholder="Describe lo que m√°s te gust√≥..."></textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn">Enviar Autoevaluaci√≥n</button>
                </form>
            </div>

            <div class="rubric-section">
                <h2><i class="fas fa-list-check"></i> R√∫brica de Evaluaci√≥n</h2>
                <table class="rubric-table">
                    <thead>
                        <tr>
                            <th>Criterio</th>
                            <th>Excelente (4 pts)</th>
                            <th>Bueno (3 pts)</th>
                            <th>Regular (2 pts)</th>
                            <th>Necesita Mejora (1 pt)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="criteria-level">Resoluci√≥n de Problemas</td>
                            <td>Resuelve todos los desaf√≠os correctamente, aplicando estrategias eficientes</td>
                            <td>Resuelve la mayor√≠a de desaf√≠os correctamente con algunas estrategias adecuadas</td>
                            <td>Resuelve algunos desaf√≠os pero con dificultad para aplicar estrategias</td>
                            <td>No logra resolver la mayor√≠a de desaf√≠os o lo hace incorrectamente</td>
                        </tr>
                        <tr>
                            <td class="criteria-level">Pensamiento Computacional</td>
                            <td>Identifica correctamente las habilidades de PC en todos los desaf√≠os y las aplica consistentemente</td>
                            <td>Identifica correctamente la mayor√≠a de habilidades de PC y las aplica en la mayor√≠a de casos</td>
                            <td>Identifica algunas habilidades de PC pero con dificultad para aplicarlas</td>
                            <td>No identifica las habilidades de PC o las aplica incorrectamente</td>
                        </tr>
                        <tr>
                            <td class="criteria-level">Trabajo en Equipo</td>
                            <td>Colabora activamente, escucha a los compa√±eros y contribuye significativamente al equipo</td>
                            <td>Colabora adecuadamente y contribuye al trabajo del equipo</td>
                            <td>Participa ocasionalmente pero con contribuciones limitadas</td>
                            <td>No colabora o dificulta el trabajo del equipo</td>
                        </tr>
                        <tr>
                            <td class="criteria-level">Manejo del Tiempo</td>
                            <td>Completa todos los desaf√≠os en el tiempo asignado y utiliza tiempo extra eficientemente</td>
                            <td>Completa la mayor√≠a de desaf√≠os en el tiempo asignado</td>
                            <td>Completa algunos desaf√≠os pero requiere mucho tiempo adicional</td>
                            <td>No completa los desaf√≠os en el tiempo asignado</td>
                        </tr>
                        <tr>
                            <td class="criteria-level">Reflexi√≥n y Autoevaluaci√≥n</td>
                            <td>Reflexiona profundamente sobre su aprendizaje y identifica √°reas de mejora espec√≠ficas</td>
                            <td>Reflexiona adecuadamente sobre su aprendizaje y reconoce algunas √°reas de mejora</td>
                            <td>Proporciona reflexiones b√°sicas sin mucho detalle</td>
                            <td>No reflexiona sobre su aprendizaje o lo hace de manera superficial</td>
                        </tr>
                    </tbody>
                </table>
                <div style="margin-top: 20px; text-align: center;">
                    <p><strong>Puntuaci√≥n Total:</strong> <span id="rubric-total">0</span>/20 puntos</p>
                    <p><strong>Calificaci√≥n:</strong> <span id="rubric-grade">-</span></p>
                </div>
            </div>
        </div>

        <div class="tab-content" id="performance">
            <div class="performance-report">
                <h2><i class="fas fa-chart-line"></i> Informe de Desempe√±o</h2>
                <div class="report-grid">
                    <div class="report-card">
                        <h4>Desaf√≠os Completados</h4>
                        <div id="completed-challenges">0/24</div>
                    </div>
                    <div class="report-card">
                        <h4>Puntuaci√≥n Total</h4>
                        <div id="total-score">0 puntos</div>
                    </div>
                    <div class="report-card">
                        <h4>Tiempo Utilizado</h4>
                        <div id="time-used">0:00</div>
                    </div>
                    <div class="report-card">
                        <h4>Eficiencia</h4>
                        <div id="efficiency">0%</div>
                    </div>
                </div>
                
                <div class="skills-report" style="margin-top: 30px;">
                    <h3>Habilidades Desarrolladas</h3>
                    <div class="report-grid">
                        <div class="report-card">
                            <h4>Abstracci√≥n</h4>
                            <div id="abstraction-score">0%</div>
                        </div>
                        <div class="report-card">
                            <h4>Pensamiento Algor√≠tmico</h4>
                            <div id="algorithmic-score">0%</div>
                        </div>
                        <div class="report-card">
                            <h4>Descomposici√≥n</h4>
                            <div id="decomposition-score">0%</div>
                        </div>
                        <div class="report-card">
                            <h4>Evaluaci√≥n</h4>
                            <div id="evaluation-score">0%</div>
                        </div>
                        <div class="report-card">
                            <h4>Generalizaci√≥n</h4>
                            <div id="generalization-score">0%</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tickets-section">
                <h2><i class="fas fa-ticket-alt"></i> Tickets de Salida Obtenidos</h2>
                <div class="tickets-container" id="tickets-container">
                    <!-- Los tickets de salida se cargar√°n aqu√≠ din√°micamente -->
                    <div class="ticket-card">
                        <h4>No hay tickets a√∫n</h4>
                        <p>Completa desaf√≠os para obtener tickets de salida</p>
                    </div>
                </div>
            </div>

            <div class="medals-section">
                <h2><i class="fas fa-medal"></i> Medallas Obtenidas</h2>
                <div class="medals-container">
                    <div class="medal bronze" id="medal-bronze">
                        <i class="fas fa-medal"></i>
                        <p>Bronce</p>
                        <p>Completa 5 desaf√≠os</p>
                    </div>
                    <div class="medal silver" id="medal-silver">
                        <i class="fas fa-medal"></i>
                        <p>Plata</p>
                        <p>Completa 10 desaf√≠os</p>
                    </div>
                    <div class="medal gold" id="medal-gold">
                        <i class="fas fa-medal"></i>
                        <p>Oro</p>
                        <p>Completa todos los desaf√≠os</p>
                    </div>
                    <div class="medal platinum" id="medal-platinum">
                        <i class="fas fa-gem"></i>
                        <p>Platino</p>
                        <p>Completa desaf√≠os extras</p>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>Escape Room - Desaf√≠os Bebras 2025 - Liceo Cuna de Fabini, Sol√≠s de Mataojo</p>
            <p>Desarrollado para fomentar habilidades de pensamiento computacional en 8¬∞ EBI</p>
        </footer>
    </div>

    <script>
        // Datos de los desaf√≠os Bebras 2025
        const challenges = [
            {
                id: 1,
                title: "Regalo de Cumplea√±os",
                description: "Ema quiere una pelota para su cumplea√±os. Ella quiere que la pelota: no tenga rayas, tenga una estrella, no tenga una luna.",
                image: "1.png",
                answerOptions: ["Pelota A", "Pelota B", "Pelota C", "Pelota D", "Pelota E", "Pelota F"],
                correctAnswer: 4, // Pelota E
                correctSkill: "abstraccion",
                exitTicket: "IDENTIFICAR PATRONES VISUALES"
            },
            {
                id: 2,
                title: "Tr√©boles Giratorios",
                description: "Eliseo dej√≥ caer su tr√©bol favorito al suelo, y ahora est√° mezclado con otros. Adem√°s, podr√≠a estar dado vuelta (boca abajo).",
                image: "2.png",
                answerOptions: ["Tr√©bol A", "Tr√©bol B", "Tr√©bol C", "Tr√©bol D"],
                correctAnswer: 3, // Tr√©bol D
                correctSkill: "abstraccion",
                exitTicket: "RECONOCER CARACTER√çSTICAS √öNICAS"
            },
            {
                id: 3,
                title: "Dibujando un Velero",
                description: "Sof√≠a quiere volver a trazar las l√≠neas de su dibujo de velero siguiendo estas reglas: no puede levantar el l√°piz del papel, no puede pasar dos veces por la misma l√≠nea.",
                image: "3.png",
                answerOptions: ["Punto A y C", "Punto B solamente", "Punto D y E", "Todos los puntos"],
                correctAnswer: 0, // Punto A y C
                correctSkill: "algoritmico",
                exitTicket: "TRAZAR RUTAS EFICIENTES"
            },
            {
                id: 4,
                title: "Ruidos en el Tr√°fico",
                description: "Los autos atraviesan el pueblo para ir de A a B. Algunos vecinos est√°n molestos por el ruido y se quejan: 'Cada auto que pasa por nuestro pueblo pasa por mi casa'.",
                image: "4.png",
                answerOptions: ["2 casas", "3 casas", "4 casas", "5 casas"],
                correctAnswer: 1, // 3 casas
                correctSkill: "evaluacion",
                exitTicket: "ANALIZAR RUTAS CR√çTICAS"
            },
            {
                id: 5,
                title: "√Årboles",
                description: "Los castores del pueblo solo pueden plantar √°rboles en lugares espec√≠ficos. Cada pastor puede plantar un solo √°rbol por d√≠a, y en cada lugar solo se puede plantar un √°rbol como m√°ximo.",
                image: "5.png",
                answerOptions: ["5 √°rboles", "6 √°rboles", "7 √°rboles", "8 √°rboles"],
                correctAnswer: 2, // 7 √°rboles
                correctSkill: "evaluacion",
                exitTicket: "OPTIMIZAR RECURSOS LIMITADOS"
            },
            {
                id: 6,
                title: "Transportador de Juguetes",
                description: "Un transportador de juguetes gira constantemente. Mart√≠n comienza el juego recogiendo el auto a cuerda. ¬øQu√© juguete recoger√° por √∫ltimo?",
                image: "6.png",
                answerOptions: ["Oso de peluche", "Puzzle", "Balde", "Pala"],
                correctAnswer: 0, // Oso de peluche
                correctSkill: "algoritmico",
                exitTicket: "SECUENCIAR PROCESOS"
            },
            {
                id: 7,
                title: "Sonajero de Oliva",
                description: "Olivia tiene un sonajero transparente con pelotitas de colores adentro. Cuando lo agita, algunas pelotitas se mueven y pasan de un lado al otro.",
                image: "7.png",
                answerOptions: ["Imagen A", "Imagen B", "Imagen C", "Imagen D"],
                correctAnswer: 2, // Imagen C
                correctSkill: "algoritmico",
                exitTicket: "PREDECIR MOVIMIENTOS"
            },
            {
                id: 8,
                title: "Abrir el Paquete",
                description: "El peque√±o castor Teo recibi√≥ un paquete de regalo envuelto en un papel que estaba doblado en cinco partes. ¬øC√≥mo se ver√° el papel de regalo cuando Teo lo abra?",
                image: "8.png",
                answerOptions: ["Opci√≥n A", "Opci√≥n B", "Opci√≥n C", "Opci√≥n D"],
                correctAnswer: 1, // Opci√≥n B
                correctSkill: "abstraccion",
                exitTicket: "VISUALIZAR TRANSFORMACIONES"
            },
            {
                id: 9,
                title: "Punto de Encuentro",
                description: "Los castores quieren reunirse en un √°rbol de forma tal que la distancia m√°s larga que tenga que recorrer cualquier pastor desde su caba√±a hasta ese √°rbol sea lo m√°s corta posible.",
                image: "9.png",
                answerOptions: ["√Årbol A", "√Årbol B", "√Årbol C", "√Årbol D"],
                correctAnswer: 2, // √Årbol C
                correctSkill: "evaluacion",
                exitTicket: "MINIMIZAR DISTANCIAS M√ÅXIMAS"
            },
            {
                id: 10,
                title: "Caramelos",
                description: "Gabi tiene 9 caramelos y quiere regalarles a sus amigas. ¬øEn qu√© orden deber√≠a Gabi repartir los caramelos con sus amigas para quedarse con la mayor cantidad posible?",
                image: "10.png",
                answerOptions: ["Ana, L√≠a, Mar√≠a", "Mar√≠a, L√≠a, Ana", "L√≠a, Ana, Mar√≠a", "Mar√≠a, Ana, L√≠a"],
                correctAnswer: 3, // Mar√≠a, Ana, L√≠a
                correctSkill: "evaluacion",
                exitTicket: "OPTIMIZAR SECUENCIAS"
            },
            {
                id: 11,
                title: "Pulsera con un Mensaje",
                description: "Al usar como punto, como raya y como separador, usando de gu√≠a la tabla de c√≥digo morse puedes crear una pulsera. ¬øCu√°l de las siguientes pulseras contiene el mensaje 'HOUA'?",
                image: "11.png",
                answerOptions: ["Pulsera A", "Pulsera B", "Pulsera C", "Pulsera D"],
                correctAnswer: 0, // Pulsera A
                correctSkill: "generalizacion",
                exitTicket: "DECODIFICAR PATRONES"
            },
            {
                id: 12,
                title: "Fiesta de Disfraces",
                description: "Bruno organiza una fiesta de disfraces y quiere asegurarse de que cada amigo/a tenga un disfraz √∫nico. ¬øQu√© disfraces deber√≠a asignar Bruno a cada amigo para que todos tengan un disfraz?",
                image: "12.png",
                answerOptions: ["Laura: Mago, Diego: Pirata, Mar√≠a: Dinosaurio, Pablo: Astronauta, Sof√≠a: Superh√©roe", 
                               "Laura: Dinosaurio, Diego: Superh√©roe, Mar√≠a: Dinosaurio, Pablo: Astronauta, Sof√≠a: Pirata",
                               "Laura: Mago, Diego: Superh√©roe, Mar√≠a: Dinosaurio, Pablo: Astronauta, Sof√≠a: Pirata",
                               "Laura: Dinosaurio, Diego: Pirata, Mar√≠a: Superh√©roe, Pablo: Astronauta, Sof√≠a: Pirata"],
                correctAnswer: 2, // Laura: Mago, Diego: Superh√©roe, Mar√≠a: Dinosaurio, Pablo: Astronauta, Sof√≠a: Pirata
                correctSkill: "evaluacion",
                exitTicket: "ASIGNAR RECURSOS √öNICOS"
            },
            {
                id: 13,
                title: "¬øQu√© Pint√≥ el Pintor?",
                description: "Un pintor eligi√≥ una de las frutas para pintar. Para saber qu√© fruta eligi√≥ el pintor le puedes hacer preguntas que ser√°n respondidas con 's√≠' o 'no'. ¬øCon cu√°l de las siguientes preguntas deber√≠as empezar?",
                image: "13.png",
                answerOptions: ["¬øLa fruta es amarilla?", "¬øLa fruta est√° mordida?", "¬øLa fruta es una banana?", "¬øHay alg√∫n gusano en la fruta?"],
                correctAnswer: 1, // ¬øLa fruta est√° mordida?
                correctSkill: "algoritmico",
                exitTicket: "FORMULAR PREGUNTAS ESTRAT√âGICAS"
            },
            {
                id: 14,
                title: "Laberinto",
                description: "Partiendo de S, debemos movernos visitando los puntos mostrados. ¬øCu√°l es el n√∫mero m√≠nimo de puntos a visitar antes de salir del laberinto?",
                image: "14.png",
                answerOptions: ["5 puntos", "6 puntos", "7 puntos", "8 puntos"],
                correctAnswer: 1, // 6 puntos
                correctSkill: "algoritmico",
                exitTicket: "ENCONTRAR RUTAS M√çNIMAS"
            }
        ];

        // Desaf√≠os extras con narrativa del Liceo Cuna de Fabini
        const extraChallenges = [
            {
                id: 15,
                title: "Organizando el Acto Patri√≥tico",
                description: "El Liceo Cuna de Fabini est√° organizando el acto del 25 de agosto. Hay 6 grupos con diferentes habilidades. ¬øC√≥mo distribuir√≠as las tareas para que todo est√© listo a tiempo?",
                visual: `
                    <div class="visual-container">
                        <h4>Grupos y habilidades disponibles:</h4>
                        <div class="visual-grid">
                            <div class="visual-item">Grupo 1<br>üéµ M√∫sica</div>
                            <div class="visual-item">Grupo 2<br>üé≠ Teatro</div>
                            <div class="visual-item">Grupo 3<br>üé® Decoraci√≥n</div>
                            <div class="visual-item">Grupo 4<br>üìù Discurso</div>
                            <div class="visual-item">Grupo 5<br>üçΩÔ∏è Log√≠stica</div>
                            <div class="visual-item">Grupo 6<br>üì¢ Coordinaci√≥n</div>
                        </div>
                        <p>Tareas a asignar: Banda musical, Obra teatral, Decoraci√≥n del sal√≥n, Discurso principal, Organizaci√≥n de refrigerios, Coordinaci√≥n general</p>
                    </div>
                `,
                answerOptions: [
                    "Asignar por orden de llegada", 
                    "Seg√∫n habilidades espec√≠ficas de cada grupo", 
                    "Todos los grupos hacen todas las tareas", 
                    "Sorteo aleatorio de tareas"
                ],
                correctAnswer: 1, // Seg√∫n habilidades espec√≠ficas
                correctSkill: "descomposicion",
                points: 5
            },
            {
                id: 16,
                title: "Ruta del Transporte Escolar",
                description: "El transporte escolar de Sol√≠s de Mataojo debe recoger estudiantes en 5 paradas diferentes y llevarlos al Liceo. ¬øCu√°l es la ruta m√°s eficiente para minimizar el tiempo de recorrido?",
                visual: `
                    <div class="visual-container">
                        <h4>Mapa de Sol√≠s de Mataojo:</h4>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; background: #f8f8f8; padding: 15px; border-radius: 5px;">
                            <div style="grid-column: 1;">üè† Casa Mar√≠a</div>
                            <div style="grid-column: 2;">üõ£Ô∏è 5min</div>
                            <div style="grid-column: 3;">‚õ≤ Plaza</div>
                            <div style="grid-column: 1;">üõ£Ô∏è 8min</div>
                            <div style="grid-column: 2;">üè´ Escuela 93</div>
                            <div style="grid-column: 3;">üõ£Ô∏è 6min</div>
                            <div style="grid-column: 2;">üõ£Ô∏è 10min</div>
                            <div style="grid-column: 3;">üéì Liceo</div>
                            <div style="grid-column: 1;">üõ£Ô∏è 7min</div>
                            <div style="grid-column: 2;">üõ£Ô∏è 4min</div>
                        </div>
                        <p>Paradas: Casa de Mar√≠a, Plaza Sol√≠s, Escuela 93, Casa de Juan, Casa de Ana</p>
                    </div>
                `,
                answerOptions: [
                    "Casa Mar√≠a ‚Üí Plaza ‚Üí Escuela ‚Üí Casa Juan ‚Üí Casa Ana ‚Üí Liceo", 
                    "Plaza ‚Üí Casa Mar√≠a ‚Üí Escuela ‚Üí Casa Ana ‚Üí Casa Juan ‚Üí Liceo", 
                    "Escuela ‚Üí Plaza ‚Üí Casa Mar√≠a ‚Üí Casa Juan ‚Üí Casa Ana ‚Üí Liceo", 
                    "Casa Ana ‚Üí Casa Juan ‚Üí Escuela ‚Üí Plaza ‚Üí Casa Mar√≠a ‚Üí Liceo"
                ],
                correctAnswer: 0, // Ruta m√°s corta
                correctSkill: "algoritmico",
                points: 10
            },
            {
                id: 17,
                title: "Patr√≥n de Asistencia",
                description: "Analizando los registros de asistencia del Liceo, notamos un patr√≥n: Los lunes hay 95% de asistencia, martes 92%, mi√©rcoles 90%, jueves 88%, viernes 85%. ¬øQu√© predicci√≥n puedes hacer?",
                visual: `
                    <div class="visual-container">
                        <h4>Registro de Asistencia Semanal:</h4>
                        <div class="visual-grid">
                            <div class="visual-item">Lunes<br>95%</div>
                            <div class="visual-item">Martes<br>92%</div>
                            <div class="visual-item">Mi√©rcoles<br>90%</div>
                            <div class="visual-item">Jueves<br>88%</div>
                            <div class="visual-item">Viernes<br>85%</div>
                        </div>
                        <p>Patr√≥n observado: La asistencia disminuye progresivamente durante la semana</p>
                    </div>
                `,
                answerOptions: [
                    "La asistencia aumenta los fines de semana", 
                    "La asistencia disminuye progresivamente durante la semana", 
                    "No hay patr√≥n discernible", 
                    "La asistencia es aleatoria"
                ],
                correctAnswer: 1, // Disminuye progresivamente
                correctSkill: "generalizacion",
                points: 5
            },
            {
                id: 18,
                title: "Optimizaci√≥n de Espacio en Biblioteca",
                description: "La biblioteca del Liceo tiene espacio limitado. Hay 4 estantes y 6 categor√≠as de libros. ¬øCu√°l es la mejor forma de organizarlos?",
                visual: `
                    <div class="visual-container">
                        <h4>Recursos de la Biblioteca:</h4>
                        <div class="visual-grid">
                            <div class="visual-item">Literatura<br>120 libros</div>
                            <div class="visual-item">Ciencias<br>80 libros</div>
                            <div class="visual-item">Matem√°ticas<br>60 libros</div>
                            <div class="visual-item">Historia<br>70 libros</div>
                            <div class="visual-item">Geograf√≠a<br>50 libros</div>
                            <div class="visual-item">Arte<br>40 libros</div>
                        </div>
                        <p>Espacio disponible: 4 estantes con capacidad para 100 libros cada uno</p>
                    </div>
                `,
                answerOptions: [
                    "Unir categor√≠as relacionadas en cada estante", 
                    "Distribuir proporcionalmente seg√∫n cantidad", 
                    "Dejar un estante vac√≠o para expansi√≥n", 
                    "Organizar alfab√©ticamente sin importar categor√≠a"
                ],
                correctAnswer: 0, // Unir categor√≠as relacionadas
                correctSkill: "evaluacion",
                points: 10
            },
            {
                id: 19,
                title: "Secuencia de Eventos del Liceo",
                description: "El Liceo tiene estos eventos programados: Torneo de f√∫tbol (2 hrs), Feria de ciencias (3 hrs), Obra de teatro (1.5 hrs). ¬øCu√°l es el orden m√°s eficiente si solo tenemos 4 horas disponibles?",
                visual: `
                    <div class="visual-container">
                        <h4>Eventos Programados:</h4>
                        <div class="visual-grid">
                            <div class="visual-item">‚öΩ F√∫tbol<br>2 horas</div>
                            <div class="visual-item">üî¨ Ciencias<br>3 horas</div>
                            <div class="visual-item">üé≠ Teatro<br>1.5 horas</div>
                        </div>
                        <p>Tiempo disponible: 4 horas continuas. Algunos eventos pueden traslaparse si usan espacios diferentes.</p>
                    </div>
                `,
                answerOptions: [
                    "F√∫tbol + Ciencias (traslapados)", 
                    "Teatro + F√∫tbol (secuencial)", 
                    "Solo Ciencias (m√°s importante)", 
                    "Ciencias + Teatro (traslapados)"
                ],
                correctAnswer: 3, // Ciencias + Teatro traslapados
                correctSkill: "evaluacion",
                points: 10
            },
            {
                id: 20,
                title: "Patr√≥n de Calificaciones",
                description: "Las calificaciones de matem√°ticas del primer trimestre fueron: 7, 8, 6, 9, 7, 8, 5, 9, 8. ¬øQu√© patr√≥n observas y qu√© predicci√≥n har√≠as para el pr√≥ximo trimestre?",
                visual: `
                    <div class="visual-container">
                        <h4>Calificaciones de Matem√°ticas:</h4>
                        <div class="visual-grid">
                            <div class="visual-item">Est 1<br>7</div>
                            <div class="visual-item">Est 2<br>8</div>
                            <div class="visual-item">Est 3<br>6</div>
                            <div class="visual-item">Est 4<br>9</div>
                            <div class="visual-item">Est 5<br>7</div>
                            <div class="visual-item">Est 6<br>8</div>
                            <div class="visual-item">Est 7<br>5</div>
                            <div class="visual-item">Est 8<br>9</div>
                            <div class="visual-item">Est 9<br>8</div>
                        </div>
                        <p>Promedio: 7.4. Moda: 8. Mediana: 8.</p>
                    </div>
                `,
                answerOptions: [
                    "La mayor√≠a obtiene 8, probablemente se mantenga", 
                    "Las calificaciones son aleatorias", 
                    "Todos mejorar√°n en el pr√≥ximo trimestre", 
                    "Empeorar√°n consistentemente"
                ],
                correctAnswer: 0, // Mayor√≠a obtiene 8
                correctSkill: "generalizacion",
                points: 5
            },
            {
                id: 21,
                title: "Organizaci√≥n de la Kerm√©s",
                description: "Para la kerm√©s del Liceo, tenemos 8 stands y 10 actividades propuestas. ¬øC√≥mo decidir cu√°les incluir y c√≥mo organizarlas?",
                visual: `
                    <div class="visual-container">
                        <h4>Actividades Propuestas:</h4>
                        <div class="visual-grid">
                            <div class="visual-item">Tiro al blanco<br>Alta popularidad</div>
                            <div class="visual-item">Puesto de comida<br>Alta ganancia</div>
                            <div class="visual-item">Juego de mesa<br>Bajo costo</div>
                            <div class="visual-item">Baile<br>Mediana participaci√≥n</div>
                            <div class="visual-item">Cuenta cuentos<br>Baja ganancia</div>
                            <div class="visual-item">T√≥mbola<br>Alta ganancia</div>
                            <div class="visual-item">Pintura<br>Mediano costo</div>
                            <div class="visual-item">Carrera<br>Alta participaci√≥n</div>
                            <div class="visual-item">Adivinanzas<br>Bajo costo</div>
                            <div class="visual-item">M√∫sica<br>Mediana ganancia</div>
                        </div>
                        <p>Criterios: Popularidad, Ganancia potencial, Costo, Participaci√≥n esperada</p>
                    </div>
                `,
                answerOptions: [
                    "Seleccionar basado en m√∫ltiples criterios", 
                    "Elegir las m√°s populares √∫nicamente", 
                    "Sorteo aleatorio", 
                    "Incluir todas aunque compartan stands"
                ],
                correctAnswer: 0, // M√∫ltiples criterios
                correctSkill: "evaluacion",
                points: 10
            },
            {
                id: 22,
                title: "Abstracci√≥n de Problemas Matem√°ticos",
                description: "Si el Liceo tiene 240 estudiantes y la relaci√≥n hombres-mujeres es 3:2, ¬øcu√°ntos estudiantes de cada g√©nero hay?",
                visual: `
                    <div class="visual-container">
                        <h4>Problema de Proporciones:</h4>
                        <div style="background: #f8f8f8; padding: 15px; border-radius: 5px; text-align: center;">
                            <p>Total estudiantes: 240</p>
                            <p>Relaci√≥n Hombres : Mujeres = 3 : 2</p>
                            <p>¬øCu√°ntos en cada grupo?</p>
                        </div>
                    </div>
                `,
                answerOptions: [
                    "144 hombres, 96 mujeres", 
                    "120 hombres, 120 mujeres", 
                    "160 hombres, 80 mujeres", 
                    "100 hombres, 140 mujeres"
                ],
                correctAnswer: 0, // 144 hombres, 96 mujeres
                correctSkill: "abstraccion",
                points: 5
            },
            {
                id: 23,
                title: "Descomposici√≥n de Tareas para la Feria",
                description: "Para organizar la Feria de Ciencias, necesitamos dividir las tareas entre los grupos. ¬øCu√°l es la mejor forma de descomponer el proyecto?",
                visual: `
                    <div class="visual-container">
                        <h4>Proyecto: Feria de Ciencias</h4>
                        <div class="visual-grid">
                            <div class="visual-item">üìã Planificaci√≥n</div>
                            <div class="visual-item">üî¨ Experimentos</div>
                            <div class="visual-item">üìä Presentaciones</div>
                            <div class="visual-item">üé™ Log√≠stica</div>
                            <div class="visual-item">üì£ Promoci√≥n</div>
                            <div class="visual-item">üèÜ Evaluaci√≥n</div>
                        </div>
                        <p>Recursos: 6 grupos de estudiantes, 2 profesores supervisores, presupuesto limitado</p>
                    </div>
                `,
                answerOptions: [
                    "Dividir por fases del proyecto", 
                    "Asignar todo a un grupo l√≠der", 
                    "Cada grupo hace un poco de todo", 
                    "Contratar ayuda externa"
                ],
                correctAnswer: 0, // Dividir por fases
                correctSkill: "descomposicion",
                points: 5
            },
            {
                id: 24,
                title: "Algoritmo para Limpieza del Aula",
                description: "¬øCu√°l es la secuencia m√°s eficiente para limpiar el aula despu√©s de clases? Considera: barrer, ordenar mesas, limpiar pizarra, sacar basura, regar plantas.",
                visual: `
                    <div class="visual-container">
                        <h4>Tareas de Limpieza:</h4>
                        <div class="visual-grid">
                            <div class="visual-item">üßπ Barrer<br>(primero)</div>
                            <div class="visual-item">üì¶ Ordenar<br>(despu√©s de barrer)</div>
                            <div class="visual-item">üìù Pizarra<br>(en cualquier momento)</div>
                            <div class="visual-item">üóëÔ∏è Basura<br>(al final)</div>
                            <div class="visual-item">üåø Plantas<br>(despu√©s de ordenar)</div>
                        </div>
                        <p>Restricciones: No se puede ordenar sin antes barrer, la basura debe sacarse al final</p>
                    </div>
                `,
                answerOptions: [
                    "Barrer ‚Üí Ordenar ‚Üí Plantas ‚Üí Pizarra ‚Üí Basura", 
                    "Pizarra ‚Üí Barrer ‚Üí Ordenar ‚Üí Plantas ‚Üí Basura", 
                    "Ordenar ‚Üí Barrer ‚Üí Pizarra ‚Üí Plantas ‚Üí Basura", 
                    "Plantas ‚Üí Pizarra ‚Üí Barrer ‚Üí Ordenar ‚Üí Basura"
                ],
                correctAnswer: 1, // Pizarra primero no interfiere
                correctSkill: "algoritmico",
                points: 5
            }
        ];

        // Habilidades de pensamiento computacional
        const skills = [
            { id: "abstraccion", name: "Abstracci√≥n" },
            { id: "algoritmico", name: "Pensamiento Algor√≠tmico" },
            { id: "descomposicion", name: "Descomposici√≥n" },
            { id: "evaluacion", name: "Evaluaci√≥n" },
            { id: "generalizacion", name: "Generalizaci√≥n" }
        ];

        // Estado de la aplicaci√≥n
        let userAnswers = {};
        let userSkills = {};
        let extraUserAnswers = {};
        let extraUserSkills = {};
        let completedChallenges = 0;
        let completedExtraChallenges = 0;
        let totalScore = 0;
        let extraScore = 0;
        let startTime;
        let timerInterval;
        let timeRemaining = 35 * 60; // 35 minutos en segundos
        let isTimerRunning = true;
        let evaluationData = {};
        let selfEvaluationData = {};
        let obtainedTickets = [];

        // Inicializar la aplicaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            loadChallenges();
            loadExtraChallenges();
            setupEventListeners();
            updateProgress();
            startTimer();
            updateTicketsDisplay();
        });

        // Cargar los desaf√≠os principales en la p√°gina
        function loadChallenges() {
            const container = document.getElementById('challenges-container');
            
            challenges.forEach(challenge => {
                const challengeCard = document.createElement('div');
                challengeCard.className = 'challenge-card';
                challengeCard.id = `challenge-${challenge.id}`;
                
                challengeCard.innerHTML = `
                    <div class="challenge-header">
                        <div class="challenge-number">${challenge.id}</div>
                        <div class="challenge-title">${challenge.title}</div>
                    </div>
                    
                    <div class="challenge-description">
                        ${challenge.description}
                    </div>
                    
                    <div class="challenge-image-container">
                        <img src="${challenge.image}" alt="${challenge.title}" class="challenge-image">
                    </div>
                    
                    <div class="skills-selection">
                        <h4>¬øQu√© habilidad de pensamiento computacional crees que se usa en este desaf√≠o?</h4>
                        <div class="skill-options" id="skills-${challenge.id}">
                            ${skills.map(skill => `
                                <div class="skill-option" data-skill="${skill.id}">${skill.name}</div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="answer-section">
                        <h4>Selecciona tu respuesta:</h4>
                        <div class="answer-options" id="answers-${challenge.id}">
                            ${challenge.answerOptions.map((option, index) => `
                                <div class="answer-option" data-answer="${index}">${option}</div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="feedback" id="feedback-${challenge.id}"></div>
                    <div class="exit-ticket" id="exit-ticket-${challenge.id}">Ticket de salida: ${challenge.exitTicket}</div>
                `;
                
                container.appendChild(challengeCard);
                
                // Configurar eventos para este desaf√≠o
                setupChallengeEvents(challenge.id, false);
            });
        }

        // Cargar los desaf√≠os extras en la p√°gina
        function loadExtraChallenges() {
            const container = document.getElementById('extra-challenges-container');
            
            extraChallenges.forEach(challenge => {
                const challengeCard = document.createElement('div');
                challengeCard.className = 'challenge-card';
                challengeCard.id = `extra-challenge-${challenge.id}`;
                
                challengeCard.innerHTML = `
                    <div class="challenge-header">
                        <div class="challenge-number">${challenge.id}</div>
                        <div class="challenge-title">${challenge.title} (+${challenge.points} pts)</div>
                    </div>
                    
                    <div class="challenge-description">
                        ${challenge.description}
                    </div>
                    
                    ${challenge.visual}
                    
                    <div class="skills-selection">
                        <h4>¬øQu√© habilidad de pensamiento computacional crees que se usa en este desaf√≠o?</h4>
                        <div class="skill-options" id="extra-skills-${challenge.id}">
                            ${skills.map(skill => `
                                <div class="skill-option" data-skill="${skill.id}">${skill.name}</div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="answer-section">
                        <h4>Selecciona tu respuesta:</h4>
                        <div class="answer-options" id="extra-answers-${challenge.id}">
                            ${challenge.answerOptions.map((option, index) => `
                                <div class="answer-option" data-answer="${index}">${option}</div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="feedback" id="extra-feedback-${challenge.id}"></div>
                `;
                
                container.appendChild(challengeCard);
                
                // Configurar eventos para este desaf√≠o extra
                setupChallengeEvents(challenge.id, true);
            });
        }

        // Configurar eventos para un desaf√≠o espec√≠fico
        function setupChallengeEvents(challengeId, isExtra) {
            const prefix = isExtra ? "extra-" : "";
            const skillOptions = document.querySelectorAll(`#${prefix}skills-${challengeId} .skill-option`);
            const answerOptions = document.querySelectorAll(`#${prefix}answers-${challengeId} .answer-option`);
            
            // Eventos para selecci√≥n de habilidades
            skillOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Deseleccionar otras opciones
                    skillOptions.forEach(opt => opt.classList.remove('selected'));
                    // Seleccionar esta opci√≥n
                    this.classList.add('selected');
                    
                    // Guardar selecci√≥n
                    if (isExtra) {
                        extraUserSkills[challengeId] = this.dataset.skill;
                    } else {
                        userSkills[challengeId] = this.dataset.skill;
                    }
                    
                    // Verificar si el desaf√≠o est√° completo
                    checkChallengeCompletion(challengeId, isExtra);
                });
            });
            
            // Eventos para selecci√≥n de respuestas
            answerOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Deseleccionar otras opciones
                    answerOptions.forEach(opt => opt.classList.remove('selected'));
                    // Seleccionar esta opci√≥n
                    this.classList.add('selected');
                    
                    // Guardar selecci√≥n
                    const answerIndex = parseInt(this.dataset.answer);
                    if (isExtra) {
                        extraUserAnswers[challengeId] = answerIndex;
                    } else {
                        userAnswers[challengeId] = answerIndex;
                    }
                    
                    // Verificar respuesta
                    checkAnswer(challengeId, isExtra, answerIndex);
                    
                    // Verificar si el desaf√≠o est√° completo
                    checkChallengeCompletion(challengeId, isExtra);
                });
            });
        }

        // Verificar la respuesta de un desaf√≠o
        function checkAnswer(challengeId, isExtra, answerIndex) {
            const challenge = isExtra ? 
                extraChallenges.find(c => c.id === challengeId) : 
                challenges.find(c => c.id === challengeId);
                
            const prefix = isExtra ? "extra-" : "";
            const feedback = document.getElementById(`${prefix}feedback-${challengeId}`);
            
            if (answerIndex === challenge.correctAnswer) {
                feedback.textContent = "¬°Correcto! Has acertado la respuesta.";
                feedback.className = "feedback correct";
                
                // Sumar puntos si es un desaf√≠o extra
                if (isExtra) {
                    extraScore += challenge.points;
                } else {
                    totalScore += 10; // 10 puntos por desaf√≠o principal
                    
                    // Agregar ticket de salida si es un desaf√≠o principal
                    if (!obtainedTickets.includes(challenge.exitTicket)) {
                        obtainedTickets.push(challenge.exitTicket);
                        updateTicketsDisplay();
                    }
                }
            } else {
                feedback.textContent = "Incorrecto. Intenta nuevamente o revisa tu razonamiento.";
                feedback.className = "feedback incorrect";
            }
            
            feedback.style.display = 'block';
            
            // Mostrar ticket de salida si es un desaf√≠o principal correcto
            if (!isExtra && answerIndex === challenge.correctAnswer) {
                document.getElementById(`exit-ticket-${challengeId}`).style.display = 'block';
            }
        }

        // Verificar si un desaf√≠o est√° completo (tiene habilidad y respuesta seleccionadas)
        function checkChallengeCompletion(challengeId, isExtra) {
            const answers = isExtra ? extraUserAnswers : userAnswers;
            const skills = isExtra ? extraUserSkills : userSkills;
            
            if (answers[challengeId] !== undefined && skills[challengeId] !== undefined) {
                if (isExtra) {
                    completedExtraChallenges = Object.keys(extraUserAnswers).length;
                    updateExtraProgress();
                } else {
                    completedChallenges = Object.keys(userAnswers).length;
                    updateProgress();
                }
                
                updatePerformanceReport();
                updateMedals();
                updateRubricScore();
            }
        }

        // Actualizar la barra de progreso principal
        function updateProgress() {
            const progressFill = document.getElementById('progress-fill');
            const progressText = document.getElementById('progress-text');
            
            const progressPercentage = (completedChallenges / challenges.length) * 100;
            progressFill.style.width = `${progressPercentage}%`;
            progressText.textContent = `${completedChallenges}/${challenges.length} desaf√≠os completados`;
        }

        // Actualizar la barra de progreso de desaf√≠os extras
        function updateExtraProgress() {
            const progressFill = document.getElementById('extra-progress-fill');
            const progressText = document.getElementById('extra-progress-text');
            
            const progressPercentage = (completedExtraChallenges / extraChallenges.length) * 100;
            progressFill.style.width = `${progressPercentage}%`;
            progressText.textContent = `${completedExtraChallenges}/${extraChallenges.length} desaf√≠os extras completados`;
        }

        // Actualizar la visualizaci√≥n de tickets de salida
        function updateTicketsDisplay() {
            const container = document.getElementById('tickets-container');
            
            if (obtainedTickets.length === 0) {
                container.innerHTML = `
                    <div class="ticket-card">
                        <h4>No hay tickets a√∫n</h4>
                        <p>Completa desaf√≠os para obtener tickets de salida</p>
                    </div>
                `;
            } else {
                container.innerHTML = obtainedTickets.map(ticket => `
                    <div class="ticket-card">
                        <h4>Ticket de Salida</h4>
                        <p>${ticket}</p>
                    </div>
                `).join('');
            }
        }

        // Actualizar la puntuaci√≥n de la r√∫brica
        function updateRubricScore() {
            const totalChallengesCompleted = completedChallenges + completedExtraChallenges;
            const totalPossibleChallenges = challenges.length + extraChallenges.length;
            
            // Calcular puntuaci√≥n basada en el desempe√±o
            let rubricScore = 0;
            
            // Criterio 1: Resoluci√≥n de Problemas (m√°x 4 pts)
            const completionRate = totalChallengesCompleted / totalPossibleChallenges;
            if (completionRate >= 0.9) rubricScore += 4;
            else if (completionRate >= 0.7) rubricScore += 3;
            else if (completionRate >= 0.5) rubricScore += 2;
            else rubricScore += 1;
            
            // Criterio 2: Pensamiento Computacional (m√°x 4 pts)
            const correctSkillsRate = calculateCorrectSkillsRate();
            if (correctSkillsRate >= 0.9) rubricScore += 4;
            else if (correctSkillsRate >= 0.7) rubricScore += 3;
            else if (correctSkillsRate >= 0.5) rubricScore += 2;
            else rubricScore += 1;
            
            // Criterio 3: Trabajo en Equipo (estimado basado en tiempo y eficiencia)
            rubricScore += 3; // Valor por defecto, se ajustar√≠a con datos reales
            
            // Criterio 4: Manejo del Tiempo (m√°x 4 pts)
            const timeEfficiency = calculateTimeEfficiency();
            if (timeEfficiency >= 0.9) rubricScore += 4;
            else if (timeEfficiency >= 0.7) rubricScore += 3;
            else if (timeEfficiency >= 0.5) rubricScore += 2;
            else rubricScore += 1;
            
            // Criterio 5: Reflexi√≥n (estimado, se completar√≠a con los formularios)
            rubricScore += 3; // Valor por defecto
            
            // Actualizar interfaz
            document.getElementById('rubric-total').textContent = rubricScore;
            
            // Calificar seg√∫n puntuaci√≥n
            let grade = '';
            if (rubricScore >= 18) grade = 'Excelente';
            else if (rubricScore >= 15) grade = 'Bueno';
            else if (rubricScore >= 12) grade = 'Regular';
            else grade = 'Necesita Mejora';
            
            document.getElementById('rubric-grade').textContent = grade;
        }

        // Calcular tasa de habilidades correctamente identificadas
        function calculateCorrectSkillsRate() {
            let correctCount = 0;
            let totalCount = 0;
            
            // Contar para desaf√≠os principales
            challenges.forEach(challenge => {
                if (userSkills[challenge.id] !== undefined) {
                    totalCount++;
                    if (userSkills[challenge.id] === challenge.correctSkill) {
                        correctCount++;
                    }
                }
            });
            
            // Contar para desaf√≠os extras
            extraChallenges.forEach(challenge => {
                if (extraUserSkills[challenge.id] !== undefined) {
                    totalCount++;
                    if (extraUserSkills[challenge.id] === challenge.correctSkill) {
                        correctCount++;
                    }
                }
            });
            
            return totalCount > 0 ? correctCount / totalCount : 0;
        }

        // Calcular eficiencia de tiempo
        function calculateTimeEfficiency() {
            const timeUsed = 35 * 60 - timeRemaining;
            const idealTime = 25 * 60; // 25 minutos como tiempo ideal
            
            if (timeUsed <= idealTime) return 1.0;
            if (timeUsed >= 35 * 60) return 0.5;
            
            // Eficiencia lineal decreciente
            return 1.0 - (timeUsed - idealTime) / (10 * 60);
        }

        // Iniciar el temporizador
        function startTimer() {
            startTime = new Date();
            
            timerInterval = setInterval(function() {
                if (isTimerRunning) {
                    timeRemaining--;
                    
                    if (timeRemaining <= 0) {
                        clearInterval(timerInterval);
                        timeRemaining = 0;
                        isTimerRunning = false;
                        document.getElementById('timer-message').style.display = 'block';
                    }
                    
                    updateTimerDisplay();
                }
            }, 1000);
        }

        // Actualizar la visualizaci√≥n del temporizador
        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
            if (timeRemaining <= 300) { // 5 minutos restantes
                document.getElementById('timer').classList.add('timer-warning');
            }
        }

        // Configurar eventos generales
        function setupEventListeners() {
            // Evento para las pesta√±as
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Actualizar pesta√±a activa
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Mostrar contenido correspondiente
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(tabId).classList.add('active');
                });
            });
            
            // Evento para el formulario de evaluaci√≥n
            const evaluationForm = document.getElementById('evaluation-form');
            evaluationForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Recopilar datos del formulario
                evaluationData = {
                    name: document.getElementById('student-name').value,
                    team: document.getElementById('student-team').value,
                    grade: document.getElementById('student-grade').value,
                    difficulty: document.getElementById('difficulty-rating').value,
                    enjoyment: document.getElementById('enjoyment-rating').value,
                    skills: document.getElementById('skills-improved').value,
                    challenges: document.getElementById('challenges-faced').value,
                    feedback: document.getElementById('teacher-feedback').value,
                    timestamp: new Date().toISOString()
                };
                
                // Descargar como archivo TXT
                downloadEvaluationTXT(evaluationData, 'evaluacion_conceptos');
                
                // Simular env√≠o a Google Sheets
                simulateGoogleSheetsSubmit(evaluationData, 'evaluacion');
                
                alert('¬°Evaluaci√≥n enviada con √©xito! Se ha descargado un archivo TXT con tus respuestas.');
                evaluationForm.reset();
            });
            
            // Evento para el formulario de autoevaluaci√≥n
            const selfEvaluationForm = document.getElementById('self-evaluation-form');
            selfEvaluationForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Recopilar datos del formulario
                selfEvaluationData = {
                    teamPerformance: document.getElementById('team-performance').value,
                    myContribution: document.getElementById('my-contribution').value,
                    learnedContent: document.getElementById('learned-content').value,
                    difficultConcepts: document.getElementById('difficult-concepts').value,
                    improvementAreas: document.getElementById('improvement-areas').value,
                    enjoyedMost: document.getElementById('enjoyed-most').value,
                    timestamp: new Date().toISOString()
                };
                
                // Descargar como archivo TXT
                downloadEvaluationTXT(selfEvaluationData, 'autoevaluacion_desempeno');
                
                // Simular env√≠o a Google Sheets
                simulateGoogleSheetsSubmit(selfEvaluationData, 'autoevaluacion');
                
                alert('¬°Autoevaluaci√≥n enviada con √©xito! Se ha descargado un archivo TXT con tus respuestas.');
                selfEvaluationForm.reset();
            });
        }

        // Descargar evaluaci√≥n como archivo TXT
        function downloadEvaluationTXT(data, filename) {
            let content = '';
            
            if (filename === 'evaluacion_conceptos') {
                content = `EVALUACI√ìN DE CONCEPTOS - LICEO CUNA DE FABINI\n`;
                content += `==================================================\n\n`;
                content += `Nombre: ${data.name}\n`;
                content += `Equipo: ${data.team}\n`;
                content += `Grado: ${data.grade}\n`;
                content += `Dificultad percibida: ${getDifficultyText(data.difficulty)}\n`;
                content += `Disfrute de la actividad: ${getEnjoymentText(data.enjoyment)}\n\n`;
                content += `Habilidades desarrolladas:\n${data.skills}\n\n`;
                content += `Desaf√≠os m√°s dif√≠ciles:\n${data.challenges}\n\n`;
                content += `Comentarios para el profesor:\n${data.feedback}\n\n`;
                content += `Fecha: ${new Date(data.timestamp).toLocaleString()}\n`;
            } else {
                content = `AUTOEVALUACI√ìN DE DESEMPE√ëO - LICEO CUNA DE FABINI\n`;
                content += `======================================================\n\n`;
                content += `Desempe√±o del equipo: ${getTeamPerformanceText(data.teamPerformance)}\n\n`;
                content += `Mi contribuci√≥n:\n${data.myContribution}\n\n`;
                content += `Contenido aprendido:\n${data.learnedContent}\n\n`;
                content += `Conceptos dif√≠ciles:\n${data.difficultConcepts}\n\n`;
                content += `√Åreas de mejora:\n${data.improvementAreas}\n\n`;
                content += `Lo m√°s disfrutado:\n${data.enjoyedMost}\n\n`;
                content += `Fecha: ${new Date(data.timestamp).toLocaleString()}\n`;
            }
            
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${filename}_${data.name || 'estudiante'}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Simular env√≠o a Google Sheets
        function simulateGoogleSheetsSubmit(data, type) {
            // En una implementaci√≥n real, aqu√≠ se enviar√≠an los datos a Google Sheets
            // usando la API de Google Sheets o un servicio intermedio
            
            console.log(`Enviando datos a Google Sheets (${type}):`, data);
            
            // Simulaci√≥n de URL de Google Sheets (reemplazar con la real)
            const sheetsURL = "https://docs.google.com/spreadsheets/d/1ABC123def456GHI789jkl/";
            console.log(`URL de Google Sheets: ${sheetsURL}`);
            
            // Aqu√≠ ir√≠a el c√≥digo real para enviar datos a Google Sheets
            // Por ejemplo, usando fetch() con la API de Google Sheets
        }

        // Funciones auxiliares para texto
        function getDifficultyText(value) {
            const options = {
                "1": "Muy f√°ciles",
                "2": "F√°ciles",
                "3": "Moderados",
                "4": "Dif√≠ciles",
                "5": "Muy dif√≠ciles"
            };
            return options[value] || "No especificado";
        }

        function getEnjoymentText(value) {
            const options = {
                "1": "No me gustaron",
                "2": "Poco disfrutables",
                "3": "Neutral",
                "4": "Disfrutables",
                "5": "Muy disfrutables"
            };
            return options[value] || "No especificado";
        }

        function getTeamPerformanceText(value) {
            const options = {
                "1": "Excelente - Trabajamos muy bien juntos",
                "2": "Bueno - Hubo buena colaboraci√≥n",
                "3": "Regular - Podr√≠amos haber trabajado mejor",
                "4": "Deficiente - Fue dif√≠cil trabajar en equipo"
            };
            return options[value] || "No especificado";
        }

        // Actualizar el informe de desempe√±o
        function updatePerformanceReport() {
            // Calcular estad√≠sticas
            const totalChallengesCompleted = completedChallenges + completedExtraChallenges;
            const totalPossibleScore = (challenges.length * 10) + 70; // 10 pts por desaf√≠o principal + 70 pts extras m√°ximos
            const currentTotalScore = totalScore + extraScore;
            
            // Tiempo utilizado
            const timeUsedInSeconds = 35 * 60 - timeRemaining;
            const minutesUsed = Math.floor(timeUsedInSeconds / 60);
            const secondsUsed = timeUsedInSeconds % 60;
            
            // Eficiencia
            const efficiency = totalChallengesCompleted > 0 ? 
                Math.round((currentTotalScore / totalPossibleScore) * 100) : 0;
            
            // Actualizar elementos de la interfaz
            document.getElementById('completed-challenges').textContent = 
                `${totalChallengesCompleted}/${challenges.length + extraChallenges.length}`;
            document.getElementById('total-score').textContent = `${currentTotalScore} puntos`;
            document.getElementById('time-used').textContent = 
                `${minutesUsed.toString().padStart(2, '0')}:${secondsUsed.toString().padStart(2, '0')}`;
            document.getElementById('efficiency').textContent = `${efficiency}%`;
            
            // Calcular habilidades desarrolladas
            updateSkillsReport();
        }

        // Actualizar el reporte de habilidades
        function updateSkillsReport() {
            // Contar habilidades correctamente identificadas en desaf√≠os principales
            let abstractionCount = 0, algorithmicCount = 0, decompositionCount = 0, 
                evaluationCount = 0, generalizationCount = 0;
            let abstractionTotal = 0, algorithmicTotal = 0, decompositionTotal = 0, 
                evaluationTotal = 0, generalizationTotal = 0;
            
            // Contar para desaf√≠os principales
            challenges.forEach(challenge => {
                if (userSkills[challenge.id] === challenge.correctSkill) {
                    switch(challenge.correctSkill) {
                        case 'abstraccion': abstractionCount++; break;
                        case 'algoritmico': algorithmicCount++; break;
                        case 'descomposicion': decompositionCount++; break;
                        case 'evaluacion': evaluationCount++; break;
                        case 'generalizacion': generalizationCount++; break;
                    }
                }
                
                // Totales por habilidad
                switch(challenge.correctSkill) {
                    case 'abstraccion': abstractionTotal++; break;
                    case 'algoritmico': algorithmicTotal++; break;
                    case 'descomposicion': decompositionTotal++; break;
                    case 'evaluacion': evaluationTotal++; break;
                    case 'generalizacion': generalizationTotal++; break;
                }
            });
            
            // Calcular porcentajes
            const abstractionPercentage = abstractionTotal > 0 ? 
                Math.round((abstractionCount / abstractionTotal) * 100) : 0;
            const algorithmicPercentage = algorithmicTotal > 0 ? 
                Math.round((algorithmicCount / algorithmicTotal) * 100) : 0;
            const decompositionPercentage = decompositionTotal > 0 ? 
                Math.round((decompositionCount / decompositionTotal) * 100) : 0;
            const evaluationPercentage = evaluationTotal > 0 ? 
                Math.round((evaluationCount / evaluationTotal) * 100) : 0;
            const generalizationPercentage = generalizationTotal > 0 ? 
                Math.round((generalizationCount / generalizationTotal) * 100) : 0;
            
            // Actualizar interfaz
            document.getElementById('abstraction-score').textContent = `${abstractionPercentage}%`;
            document.getElementById('algorithmic-score').textContent = `${algorithmicPercentage}%`;
            document.getElementById('decomposition-score').textContent = `${decompositionPercentage}%`;
            document.getElementById('evaluation-score').textContent = `${evaluationPercentage}%`;
            document.getElementById('generalization-score').textContent = `${generalizationPercentage}%`;
        }

        // Actualizar medallas obtenidas
        function updateMedals() {
            // Medalla de bronce por completar 5 desaf√≠os principales
            if (completedChallenges >= 5) {
                document.getElementById('medal-bronze').classList.add('earned');
            }
            
            // Medalla de plata por completar 10 desaf√≠os principales
            if (completedChallenges >= 10) {
                document.getElementById('medal-silver').classList.add('earned');
            }
            
            // Medalla de oro por completar todos los desaf√≠os principales
            if (completedChallenges >= challenges.length) {
                document.getElementById('medal-gold').classList.add('earned');
            }
            
            // Medalla de platino por completar desaf√≠os extras
            if (completedExtraChallenges > 0) {
                document.getElementById('medal-platinum').classList.add('earned');
            }
        }
    </script>
</body>
</html>